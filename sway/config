exec_always dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP SWAYSOCK XDG_SESSION_TYPE
exec_always systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP SWAYSOCK XDG_SESSION_TYPE
exec_always sclip
exec_always {
    swayidle -w \
        timeout 300 'swaylock -f -i ~/img/wp/one/pollock.jpg --indicator-radius 0 --indicator-thickness 0' \
        timeout 600 'systemctl suspend' \
        before-sleep 'swaylock -f -i ~/img/wp/one/pollock.jpg --indicator-radius 0 --indicator-thickness 0'
}
exec_always sh -c '$term -e mux'
exec_always sh -c 'chromium --ozone-platform=wayland'

set $term ghostty --theme=$THEME
set $menu rofi -show run

font pango:Berkeley Mono 15
default_border pixel 5
default_floating_border pixel 5

smart_borders on

bindsym Mod1+Shift+Return exec $term
bindsym Mod1+space        exec $menu
bindsym Mod1+Shift+c      exec chromium --ozone-platform=wayland
bindsym Mod1+Shift+d      exec discord
bindsym Mod1+Shift+v      exec vesktop
bindsym Mod1+Shift+s      exec slack
bindsym Mod1+q            kill
bindsym Mod1+Shift+q      exit
bindsym Mod1+Shift+r      reload

bindsym Mod1+f focus right
bindsym Mod1+a focus left
bindsym Mod1+d focus down
bindsym Mod1+u focus up

bindsym Mod1+b bar mode toggle

bindsym Mod1+Shift+space floating toggle

bindsym Mod1+h resize shrink width  15 px
bindsym Mod1+l resize grow   width  15 px
bindsym Mod1+i resize grow   height 15 px
bindsym Mod1+o resize shrink height 15 px

bindsym Mod1+Return layout toggle split
bindsym Mod1+Shift+backslash layout tabbed
bindsym Mod1+Tab workspace back_and_forth

set $ws1 1; set $ws2 2; set $ws3 3; set $ws4 4; set $ws5 5
set $ws6 6; set $ws7 7; set $ws8 8; set $ws9 9

bindsym Mod1+1 workspace number $ws1
bindsym Mod1+2 workspace number $ws2
bindsym Mod1+3 workspace number $ws3
bindsym Mod1+4 workspace number $ws4
bindsym Mod1+5 workspace number $ws5
bindsym Mod1+6 workspace number $ws6
bindsym Mod1+7 workspace number $ws7
bindsym Mod1+8 workspace number $ws8
bindsym Mod1+9 workspace number $ws9

bindsym Mod1+Shift+1 move container to workspace number $ws1
bindsym Mod1+Shift+2 move container to workspace number $ws2
bindsym Mod1+Shift+3 move container to workspace number $ws3
bindsym Mod1+Shift+4 move container to workspace number $ws4
bindsym Mod1+Shift+5 move container to workspace number $ws5
bindsym Mod1+Shift+6 move container to workspace number $ws6
bindsym Mod1+Shift+7 move container to workspace number $ws7
bindsym Mod1+Shift+8 move container to workspace number $ws8
bindsym Mod1+Shift+9 move container to workspace number $ws9

bindsym Mod1+period workspace next
bindsym Mod1+comma  workspace prev
bindsym Mod1+Shift+period move container to workspace next
bindsym Mod1+Shift+comma  move container to workspace prev

bindsym XF86AudioRaiseVolume exec sh -c 'pactl set-sink-volume @DEFAULT_SINK@ +5% && kill -USR1 "$(cat $XDG_RUNTIME_DIR/swaybar.pid)"'
bindsym XF86AudioLowerVolume exec sh -c 'pactl set-sink-volume @DEFAULT_SINK@ -5% && kill -USR1 "$(cat $XDG_RUNTIME_DIR/swaybar.pid)"'
bindsym XF86AudioMute        exec sh -c 'pactl set-sink-mute @DEFAULT_SINK@ toggle && kill -USR1 "$(cat $XDG_RUNTIME_DIR/swaybar.pid)"'
bindsym XF86MonBrightnessUp   exec brightnessctl set 5%+
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-

bindsym Mod5+a exec set-speaker
bindsym Mod5+c exec bash -lc 'cliphist list | rofi -dmenu -i -p Clipboard -l 15 | cliphist decode | wl-copy'
bindsym Mod5+d exec doc
bindsym Mod5+k exec "skb toggle"
bindsym Mod5+r exec rbt
bindsym Mod5+s exec sss
bindsym Mod5+o exec ocr

assign [app_id="ghostty"] workspace number 1
for_window [class="Ghostty"] move to workspace number 1

assign [app_id="chromium"] workspace number 2
for_window [class="Chromium"] move to workspace number 2

assign [app_id="sioyek"] workspace number 3
for_window [class="sioyek"] move to workspace number 3

assign [app_id="Slack"] workspace number 4
for_window [class="Slack"] move to workspace number 4

assign [app_id="discord"] workspace number 5
for_window [class="discord"] move to workspace number 5

assign [app_id="vesktop"] workspace number 5
for_window [class="vesktop"] move to workspace number 5

set $bg        #282828
set $bg1       #3c3836
set $bg2       #504945
set $fg        #ebdbb2
set $fg1       #d5c4a1
set $fg2       #bdae93
set $red       #cc241d
set $green     #98971a
set $yellow    #d79921
set $blue      #458588
set $purple    #b16286
set $aqua      #689d6a
set $orange    #d65d0e

client.focused          $fg   $bg   $fg   $bg   $fg
client.focused_inactive $bg1  $bg   $fg1  $bg1  $bg1
client.unfocused        $bg   $bg   $fg2  $bg   $bg

bar {
    position top
    status_command /home/frozen/.config/sway/bar.sh
    separator_symbol " â”‚ "
    colors {
        background $bg
        statusline $fg
        separator  $fg
        focused_workspace  $bg2 $bg2 $fg
        active_workspace   $bg1 $bg1 $fg1
        inactive_workspace $bg $bg $fg2
        urgent_workspace   $red $red $fg
    }
}

input * {
    xkb_layout us
    xkb_options "lv3:ralt_switch"
}
output * bg ~/img/wp/one/progress.jpg fill

include /etc/sway/config.d/*

for_window [app_id="one.alynx.showmethekey" title="Floating Window - Show Me The Key"] {
  floating enable
  sticky enable
}
